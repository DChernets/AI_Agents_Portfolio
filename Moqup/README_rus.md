# üöõ Moqup - –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ-–ª–æ–≥–∏—Å—Ç–∏—á–µ—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞

–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–æ—Å—Ç–∞–≤–∫–∞–º–∏ –∏–∑ –ö–∏—Ç–∞—è, –≤–∫–ª—é—á–∞—é—â–∞—è:
- **AI –ß–∞—Ç-–±–æ—Ç** –¥–ª—è –∫–æ–Ω—Å—É–ª—å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- **TNVED API** –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∫–æ–¥–æ–≤ –¢–ù –í–≠–î –∏ —Ä–∞—Å—á–µ—Ç–∞ —Ç–∞–º–æ–∂–µ–Ω–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
- **CRM2Sheets** –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ CRM –≤ Excel —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
- **Scheduler** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞—á

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
Moqup/
‚îú‚îÄ‚îÄ venv/                     # –û–±—â–µ–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ config/                   # –û–±—â–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ google-credentials.json
‚îú‚îÄ‚îÄ chat_bot/                 # AI —á–∞—Ç-–±–æ—Ç –¥–ª—è Telegram
‚îÇ   ‚îú‚îÄ‚îÄ ai_chatbot.py        # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ full_prompt.py       # –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ config.py            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ .env                 # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ code_tnved/              # FastAPI —Å–µ—Ä–≤–∏—Å –¥–ª—è –¢–ù –í–≠–î (–ø–æ—Ä—Ç 8000)
‚îÇ   ‚îú‚îÄ‚îÄ app/                 # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ FastAPI
‚îÇ   ‚îî‚îÄ‚îÄ .env                 # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ API
‚îú‚îÄ‚îÄ CRM2Sheets/              # –°–µ—Ä–≤–∏—Å —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ Excel (–ø–æ—Ä—Ç 8001)
‚îÇ   ‚îú‚îÄ‚îÄ app/                 # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py         # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.py       # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ services/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ sheets.py   # –†–∞–±–æ—Ç–∞ —Å Excel –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ field_mapping.py    # –ú–∞–ø–ø–∏–Ω–≥ –ø–æ–ª–µ–π –∏–∑ CRM
‚îÇ   ‚îú‚îÄ‚îÄ .env                # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–∏—Å–∞
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ log_config.json     # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ scheduler/               # –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
‚îú‚îÄ‚îÄ systemd/                 # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è systemd
‚îú‚îÄ‚îÄ requirements.txt         # –û–±—â–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ start_all.sh            # –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ start_chatbot.sh        # –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ start_tnved.sh          # –ó–∞–ø—É—Å–∫ TNVED API
‚îú‚îÄ‚îÄ start_crm2sheets.sh     # –ó–∞–ø—É—Å–∫ CRM2Sheets
‚îú‚îÄ‚îÄ logs.sh                 # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
‚îî‚îÄ‚îÄ README.md               # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏ —á–µ—Ä–µ–∑ systemd

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —á–µ—Ä–µ–∑ systemd:

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl status moqup-chatbot
systemctl status moqup-tnved
systemctl status moqup-crm2sheets

# –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
systemctl start moqup-crm2sheets

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–µ—Ä–≤–∏—Å–∞
systemctl stop moqup-crm2sheets

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–∞
systemctl restart moqup-crm2sheets

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
journalctl -u moqup-crm2sheets -f
# –∏–ª–∏
tail -f /opt/moqup/CRM2Sheets/crm2sheets.log
```

### –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
cd /opt/moqup

# –ó–∞–ø—É—Å–∫ —á–∞—Ç-–±–æ—Ç–∞
./start_chatbot.sh

# –ó–∞–ø—É—Å–∫ TNVED API
./start_tnved.sh

# –ó–∞–ø—É—Å–∫ CRM2Sheets
./start_crm2sheets.sh

# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
./start_all.sh
```

## ü§ñ AI –ß–∞—Ç-–±–æ—Ç (Telegram)

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üéØ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- üí¨ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –ø–æ –ø–æ–ª–Ω–æ–π –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π
- üìã –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –±—Ä–∏—Ñ–∞
- üîÑ –≠—Å–∫–∞–ª–∞—Ü–∏—è –Ω–∞ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
- üíæ –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω–∞—è –ø–∞–º—è—Ç—å –¥–∏–∞–ª–æ–≥–∞

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:
```bash
cd chat_bot
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env:
# - BOT_TOKEN (—Ç–æ–∫–µ–Ω –æ—Ç @BotFather)
# - AI_API_KEY (–∫–ª—é—á Gemini API)
# - MANAGER_CHAT_ID (ID –º–µ–Ω–µ–¥–∂–µ—Ä–∞)
```

## üîß TNVED API (–ø–æ—Ä—Ç 8000)

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üì¶ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–¥–æ–≤ –¢–ù –í–≠–î
- üí∞ –†–∞—Å—á–µ—Ç —Ç–∞–º–æ–∂–µ–Ω–Ω—ã—Ö –ø–æ—à–ª–∏–Ω
- üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å—Ç–∞–≤–∫–∞—Ö –ù–î–°
- ‚ö° FastAPI REST API

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- `GET /api/tnved/search` - –ü–æ–∏—Å–∫ –∫–æ–¥–∞ –¢–ù –í–≠–î
- `POST /api/tnved/calculate` - –†–∞—Å—á–µ—Ç –ø–ª–∞—Ç–µ–∂–µ–π

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:
```bash
cd code_tnved
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env:
# - GEMINI_API_KEY
# - POSTBACK_URL
# - PORT=8000
```

## üìä CRM2Sheets (–ø–æ—Ä—Ç 8001)

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üì• –ü—Ä–∏–µ–º –≤–µ–±—Ö—É–∫–æ–≤ –æ—Ç CRM
- üìÑ –°–æ–∑–¥–∞–Ω–∏–µ Excel —Ñ–∞–π–ª–æ–≤ —Å –¥–∞–Ω–Ω—ã–º–∏
- üñºÔ∏è **–í—Å—Ç–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ç–æ–≤–∞—Ä–æ–≤ –≤ Excel**
- üì¶ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤—ã–≥—Ä—É–∑–∫–∞ –∑–∞–∫–∞–∑–æ–≤
- üîê –ó–∞—â–∏—â–µ–Ω–Ω—ã–π webhook endpoint

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:

–í —Ñ–∞–π–ª–µ `.env` –º–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:

```bash
# –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –≤ Excel
# –î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: small, medium, large
IMAGE_SIZE=medium
```

**–í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–∞–∑–º–µ—Ä–æ–≤:**
- `small` - 60x60px (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π, –¥–æ 3-—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫ –Ω–∞ —Ç–æ–≤–∞—Ä)
- `medium` - 100x100px (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π, –¥–æ 2-—Ö –∫–∞—Ä—Ç–∏–Ω–æ–∫ –Ω–∞ —Ç–æ–≤–∞—Ä) ‚Üê **–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
- `large` - 150x150px (–¥–µ—Ç–∞–ª—å–Ω—ã–π, 1 –∫–∞—Ä—Ç–∏–Ω–∫–∞ –Ω–∞ —Ç–æ–≤–∞—Ä)

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞:
```bash
cd CRM2Sheets
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env:
# - GOOGLE_CREDENTIALS_PATH=/opt/moqup/config/google-credentials.json
# - SPREADSHEET_ID (ID Google —Ç–∞–±–ª–∏—Ü—ã-—à–∞–±–ª–æ–Ω–∞)
# - SHEET_NAME (–∏–º—è –ª–∏—Å—Ç–∞, –æ–±—ã—á–Ω–æ –õ–∏—Å—Ç1)
# - WEBHOOK_ID (—Å–µ–∫—Ä–µ—Ç–Ω—ã–π ID –¥–ª—è –∑–∞—â–∏—Ç—ã)
# - IMAGE_SIZE (small/medium/large)
```

### –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- `POST /webhook/crm/{webhook_id}` - –ü—Ä–∏–µ–º –¥–∞–Ω–Ω—ã—Ö –æ—Ç CRM
- `GET /download/{file_id}` - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. CRM –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å —Å –¥–∞–Ω–Ω—ã–º–∏ –æ —Ç–æ–≤–∞—Ä–∞—Ö
2. –°–µ—Ä–≤–∏—Å –ø–æ–ª—É—á–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∏–∑ Google Sheets —à–∞–±–ª–æ–Ω–∞
3. –°–æ–∑–¥–∞–µ—Ç—Å—è XLSX —Ñ–∞–π–ª —á–µ—Ä–µ–∑ openpyxl
4. –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–∫–∞—á–∏–≤–∞—é—Ç—Å—è –∏ –≤—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –≤ —Ñ–∞–π–ª
5. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:
```bash
# –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
curl -X POST https://crm.vedpanel.ru/webhook/crm/{WEBHOOK_ID} \
  -H Content-Type: application/json \
  -d '{
    codeOrder: ORDER-001,
    name: –¢–æ–≤–∞—Ä,
    article: ART-001,
    images: [https://example.com/image1.jpg, https://example.com/image2.jpg],
    ...
  }'

# –û—Ç–≤–µ—Ç:
{
  status: success,
  download_url: https://crm.vedpanel.ru/download/{file_id},
  products_count: 1,
  order_number: ORDER-001
}
```

## üì¶ –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –û–±—â–∏–µ (requirements.txt):
- `python-telegram-bot==20.7`
- `fastapi==0.115.2`
- `uvicorn[standard]==0.32.0`
- `pydantic==2.9.2`
- `aiohttp==3.9.1`

### CRM2Sheets (CRM2Sheets/requirements.txt):
- `openpyxl==3.1.2` - —Å–æ–∑–¥–∞–Ω–∏–µ Excel —Ñ–∞–π–ª–æ–≤
- `Pillow==11.1.0` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- `google-api-python-client` - —Ä–∞–±–æ—Ç–∞ —Å Google Sheets API

## üîÑ Systemd —Å–µ—Ä–≤–∏—Å—ã

–í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –Ω–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å–∏—Å—Ç–µ–º—ã:

- `moqup-chatbot.service` - Telegram –±–æ—Ç
- `moqup-tnved.service` - TNVED API
- `moqup-crm2sheets.service` - CRM2Sheets —Å–µ—Ä–≤–∏—Å

–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ `/etc/systemd/system/`

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤:
- **CRM2Sheets:** `/opt/moqup/CRM2Sheets/crm2sheets.log`
- **TNVED API:** —á–µ—Ä–µ–∑ systemd journal
- **–ß–∞—Ç-–±–æ—Ç:** —á–µ—Ä–µ–∑ systemd journal

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤:
```bash
# –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
./logs.sh

# –ù–∞–ø—Ä—è–º—É—é
tail -f /opt/moqup/CRM2Sheets/crm2sheets.log
journalctl -u moqup-crm2sheets -f
journalctl -u moqup-tnved -f
journalctl -u moqup-chatbot -f
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞:
```bash
cd /opt/moqup
git pull
source venv/bin/activate
pip install -r requirements.txt

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
systemctl restart moqup-crm2sheets
systemctl restart moqup-tnved
systemctl restart moqup-chatbot
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
```bash
source venv/bin/activate
pip install package_name
pip freeze > requirements.txt
```

## üåê –ü–æ—Ä—Ç—ã –∏ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- **TNVED API:** http://localhost:8000
- **CRM2Sheets:** http://localhost:8001
- **Telegram Bot:** —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ polling

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –≤–µ–±—Ö—É–∫–∏ –∑–∞—â–∏—â–µ–Ω—ã —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ ID
- Credentials –¥–ª—è Google API —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `/opt/moqup/config/`
- –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ `.env` —Ñ–∞–π–ª–∞—Ö
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—á–∏—â–∞—é—Ç—Å—è

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–æ–≤:
```bash
# CRM2Sheets
curl http://localhost:8001/health

# TNVED API
curl http://localhost:8000/health

# –°—Ç–∞—Ç—É—Å systemd
systemctl status moqup-*
```

## üõ†Ô∏è Troubleshooting

### –°–µ—Ä–≤–∏—Å –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
journalctl -u moqup-crm2sheets -n 50

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
systemctl cat moqup-crm2sheets

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
systemctl restart moqup-crm2sheets
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å URL –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã `openpyxl` –∏ `Pillow`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É `IMAGE_SIZE` –≤ .env

### –û—à–∏–±–∫–∞ address already in use:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–Ω—è—Ç–æ—Å—Ç–∏ –ø–æ—Ä—Ç–∞
lsof -i :8001

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞
systemctl stop moqup-crm2sheets
```

## üìû –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

–ß–∞—Ç-–±–æ—Ç –º–æ–∂–µ—Ç –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ TNVED API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–æ–¥–æ–≤ –∏ —Ä–∞—Å—á–µ—Ç–æ–≤.
CRM –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ CRM2Sheets —á–µ—Ä–µ–∑ –≤–µ–±—Ö—É–∫–∏.

## üìÑ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Git –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è. –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–º–∏—Ç—è—Ç—Å—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π.

---

**–î–∞—Ç–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-12-30
**–í–µ—Ä—Å–∏—è:** 2.0 (–¥–æ–±–∞–≤–ª–µ–Ω CRM2Sheets —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
